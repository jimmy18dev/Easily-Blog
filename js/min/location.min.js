function listAmhphur(){var t=16;$.ajax({url:location_api,cache:!1,dataType:"json",type:"GET",data:{request:"list_amphur",province_id:t},error:function(){console.log("Request Error")}}).done(function(t){var i="";$.each(t.dataset,function(t,a){i+='<div class="items amphur-items" id="amphur'+a.amphur_id+'" data-lat="'+a.lat+'" data-lng="'+a.lng+'" data-id="'+a.amphur_id+'">'+a.amphur_name+"</div>"}),$("#amphur-list").html(i),i="",0!=currentAmphur&&listDistrict(currentAmphur)})}function listDistrict(t){$("#district_id").val();defaultAmphur(t),$.ajax({url:location_api,cache:!1,dataType:"json",type:"GET",data:{request:"list_district",amphur_id:t},error:function(){console.log("Request Error")}}).done(function(t){var i="";$.each(t.dataset,function(t,a){i+='<div class="items district-items" data-id="'+a.district_id+'" id="district'+a.district_id+'">'+a.district_name+"</div>"}),$("#district-list").html(i),i="",0!=currentDistrict&&defaultDistrict(currentDistrict)})}function defaultAmphur(t){$(".amphur-items").removeClass("active").addClass("unselect"),$("#amphur"+t).removeClass("unselect").addClass("active")}function defaultDistrict(t){$(".district-items").removeClass("active").addClass("unselect"),$("#district"+t).removeClass("unselect").addClass("active")}function saveAddress(){var t=$("#article_id").val(),i=$("#province_id").val(),a=$("#amphur_id").val(),r=$("#district_id").val();$.ajax({url:article_api,cache:!1,dataType:"json",type:"POST",data:{request:"edit_address",article_id:t,province_id:i,amphur_id:a,district_id:r},error:function(){console.log("Request Error")}}).done(function(t){console.log(t)})}var location_api="api/location",article_api="api/article",currentAmphur,currentDistrict;$(function(){$("#findLocation").on("input",function(){var t=$(this).val();return console.clear(),console.log('ค้นหา "'+t+'"'),!t||t.length<=1?($("#locationList").html(""),!1):($.ajax({url:location_api,cache:!1,dataType:"json",type:"GET",data:{request:"find",keyword:t},error:function(t){console.log(t.responseText)}}).done(function(t){var i="";$.each(t.dataset,function(t,a){i+='<div class="location-items" data-district="'+a.district_id+'" data-amphur="'+a.amphur_id+'" data-province="'+a.province_id+'"><i class="fa fa-map-pin" aria-hidden="true"></i>'+a.district_name+" "+a.amphur_name+" "+a.province_name+"</div>"}),$("#locationList").html(i)}),void 0)}),$("#locationList").on("click",".location-items",function(){var t=$(this).attr("data-district"),i=$(this).attr("data-amphur"),a=$(this).attr("data-province");console.log(t+" "+i+" "+a),$.ajax({url:article_api,cache:!1,dataType:"json",type:"POST",data:{request:"edit_address",article_id:article_id,province_id:a,amphur_id:i,district_id:t},error:function(){console.log("Request Error")}}).done(function(t){console.log(t),location.reload()})})});