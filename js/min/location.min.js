function listAmhphur(){var t=16;$.ajax({url:location_api,cache:!1,dataType:"json",type:"GET",data:{request:"list_amphur",province_id:t},error:function(){console.log("Request Error")}}).done(function(t){var i="";$.each(t.dataset,function(t,a){i+='<div class="items amphur-items" id="amphur'+a.amphur_id+'" data-lat="'+a.lat+'" data-lng="'+a.lng+'" data-id="'+a.amphur_id+'">'+a.amphur_name+"</div>"}),$("#amphur-list").html(i),i="",0!=currentAmphur&&listDistrict(currentAmphur)})}function listDistrict(t){$("#district_id").val();defaultAmphur(t),$.ajax({url:location_api,cache:!1,dataType:"json",type:"GET",data:{request:"list_district",amphur_id:t},error:function(){console.log("Request Error")}}).done(function(t){var i="";$.each(t.dataset,function(t,a){i+='<div class="items district-items" data-id="'+a.district_id+'" id="district'+a.district_id+'">'+a.district_name+"</div>"}),$("#district-list").html(i),i="",0!=currentDistrict&&defaultDistrict(currentDistrict)})}function defaultAmphur(t){$(".amphur-items").removeClass("active").addClass("unselect"),$("#amphur"+t).removeClass("unselect").addClass("active")}function defaultDistrict(t){$(".district-items").removeClass("active").addClass("unselect"),$("#district"+t).removeClass("unselect").addClass("active")}function saveAddress(){var t=$("#article_id").val(),i=$("#province_id").val(),a=$("#amphur_id").val(),r=$("#district_id").val();$.ajax({url:article_api,cache:!1,dataType:"json",type:"POST",data:{request:"edit_address",article_id:t,province_id:i,amphur_id:a,district_id:r},error:function(){console.log("Request Error")}}).done(function(t){console.log(t)})}var location_api="api/location",article_api="api/article",currentAmphur,currentDistrict;$(function(){listAmhphur(),currentAmphur=$("#amphur_id").val(),currentDistrict=$("#district_id").val(),$("#amphur-list").on("click",".amphur-items",function(){var t=$(this).attr("data-id");$("#district_id").val(""),$("#amphur_id").val(t),saveAddress(),listDistrict(t)}),$("#district-list").on("click",".district-items",function(){var t=$(this).attr("data-id");$("#district_id").val(t),saveAddress(),defaultDistrict(t)}),$("#btnClearLocation").click(function(){$("#amphur_id").val(""),$("#district_id").val(""),saveAddress(),location.reload()})});