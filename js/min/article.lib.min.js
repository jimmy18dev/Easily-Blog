var Article=function(e){var o="api/article",t="api/document",r=$("#progressbar"),e=e;this.deleteDoc=function(e){r.Progressbar("70%"),$.ajax({url:t,cache:!1,async:!1,dataType:"json",type:"POST",data:{request:"delete",file_id:e},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.editDocTitle=function(e,o){r.Progressbar("70%"),$.ajax({url:t,cache:!1,dataType:"json",type:"POST",data:{request:"edit_title",file_id:e,title:o},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.imageRotate=function(e){r.Progressbar("70%"),$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{request:"rotate_image",content_id:e},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.swapContent=function(e,t){r.Progressbar("70%"),$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{request:"swap_content",current_id:e,target_id:t},error:function(e){console.log(e.responseText)}}).done(function(){location.reload(),r.Progressbar("100%")})},this.deleteContent=function(t){r.Progressbar("70%"),$.ajax({url:o,cache:!1,async:!1,dataType:"json",type:"POST",data:{request:"delete_content",article_id:e,content_id:t},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.editVideo=function(t,n){r.Progressbar("70%"),$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{request:"edit_video_id",article_id:e,content_id:t,video_id:n},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.editAlt=function(t,n){r.Progressbar("70%"),$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{request:"edit_img_alt",article_id:e,content_id:t,img_alt:n},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.editAddress=function(t,n,a){r.Progressbar("70%"),$.ajax({url:o,cache:!1,async:!1,dataType:"json",type:"POST",data:{request:"edit_address",article_id:e,province_id:a,amphur_id:n,district_id:t},error:function(){console.log("Request Error")}}).done(function(e){console.log(e),r.Progressbar("100%"),setTimeout(function(){location.reload()},1e3)})},this.editLocation=function(t,n,a){r.Progressbar("70%"),$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{request:"edit_map_location",article_id:e,content_id:t,lat:parseFloat(n),lng:parseFloat(a)},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.editBody=function(t,n){r.Progressbar("70%"),$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{request:"edit_body",article_id:e,content_id:t,body:n},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.removeHeadCover=function(){r.Progressbar("70%"),$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{request:"remove_head_cover",article_id:e},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%"),setTimeout(function(){location.reload()},1e3)})},this.editTopic=function(t,n){r.Progressbar("70%"),$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{request:"edit_topic",article_id:e,content_id:t,topic:n},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.create=function(e){r.Progressbar("70%"),$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{request:"create",category_id:e},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e);var o=e.article_id;r.Progressbar("100%"),setTimeout(function(){window.location="article/"+o+"/editor"},1e3)})},this.remove=function(){r.Progressbar("70%"),$.ajax({url:o,cache:!1,async:!1,dataType:"json",type:"POST",data:{request:"delete",article_id:e},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.draft=function(){r.Progressbar("70%"),$.ajax({url:o,cache:!1,async:!1,dataType:"json",type:"POST",data:{request:"change_status",article_id:e,status:"draft"},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.publish=function(){r.Progressbar("70%"),$.ajax({url:o,cache:!1,async:!1,dataType:"json",type:"POST",data:{request:"published",article_id:e},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.editTitle=function(t){r.Progressbar("70%"),$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{request:"edit_title",article_id:e,title:t},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.editURL=function(t){r.Progressbar("70%"),$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{request:"edit_url",article_id:e,url:t},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.setCover=function(t){r.Progressbar("70%"),$.ajax({url:o,cache:!1,async:!1,dataType:"json",type:"POST",data:{request:"set_cover",article_id:e,cover_id:t},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.editDescription=function(t){r.Progressbar("70%"),$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{request:"edit_description",article_id:e,description:t},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.toggleFacebookComment=function(){r.Progressbar("70%"),$.ajax({url:o,cache:!1,async:!1,dataType:"json",type:"POST",data:{request:"toggle_facebook_comment",article_id:e},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.toggleRelatedContent=function(){r.Progressbar("70%"),$.ajax({url:o,cache:!1,async:!1,dataType:"json",type:"POST",data:{request:"toggle_related_content",article_id:e},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})},this.addTags=function(t){r.Progressbar("70%"),$.ajax({url:o,cache:!1,dataType:"json",type:"POST",data:{request:"add_tag",article_id:e,tag:t},error:function(e){console.log(e.responseText)}}).done(function(e){r.Progressbar("100%"),console.log(e),location.reload()})},this.removeTag=function(t){r.Progressbar("70%"),$.ajax({url:o,cache:!1,async:!1,dataType:"json",type:"POST",data:{request:"remove_tag",article_id:e,tag_id:t},error:function(e){console.log(e.responseText)}}).done(function(e){console.log(e),r.Progressbar("100%")})}};